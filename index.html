<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ðŸŽ„ Christmas Secret Pairing</title>
<style>
body { font-family:Poppins,sans-serif; background:#f4f4f4; }
.container {
  max-width:420px; margin:10vh auto; padding:20px;
  background:#fff; border-radius:16px;
  box-shadow:0 0 15px rgba(0,0,0,0.15);
  text-align:center;
}
input, select, button {
  width:90%; padding:10px; margin:8px 0;
  border-radius:8px; border:1px solid #ccc;
}
button { background:#b30000; color:white; font-size:16px; cursor:pointer; }
#status { color:#b30000; margin-top:10px; }
</style>
</head>
<body>

<div class="container" id="formBox">
  <h2>ðŸŽ„ Christmas Secret Pairing</h2>
  <p>OliveHill Assemblies of God Youth Ministry</p>

  <input id="name" placeholder="Your Name">

  <select id="gender">
    <option value="">Select Gender</option>
    <option value="male">Male</option>
    <option value="female">Female</option>
  </select>

  <input id="phone" placeholder="WhatsApp Number (024xxxxxxx)">
  <button onclick="join()">Join Event</button>
  <div id="status">Enter your details to join</div>
</div>

<div class="container" id="successBox" style="display:none;">
  <h2>ðŸŽ‰ Congratulations!</h2>
  <p id="successMsg"></p>
  <p>Please wait patiently while pairing is completed.</p>
</div>

<script>
function join(){
  fetch("/join",{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({
      name:document.getElementById("name").value,
      phone:document.getElementById("phone").value,
      gender:document.getElementById("gender").value
    })
  })
  .then(r=>r.json())
  .then(d=>{
    if(d.success){
      document.getElementById("formBox").style.display="none";
      document.getElementById("successBox").style.display="block";
      document.getElementById("successMsg").innerText=d.message;
    } else {
      document.getElementById("status").innerText=d.message;
    }
  });
}
</script>

</body>
</html>
